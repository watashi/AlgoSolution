<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>In the Land of Winter lives the Toy King. The Toy King owns many fields and in each field he has control over different plots of land. The Toy King also has nine lords under him. To each of his lords he has given control over some of the plots in his kingdom. Now he wishes to use some of those plots to make train tracks for a winter celebration.
<br></br><br></br>
To build his train tracks the king can use three types of track pieces. Each of these pieces resembles a puzzle piece where each end can be positive or negative.
<br></br><br></br>
<img src="http://www.topcoder.com/contest/problem/ToyTrain/combo.png"></img>
<br></br>
<ol>
<li>A type A piece of track rotates by 90 degrees and has two positive ends.</li>
<li>A type B piece of track rotates by 90 degrees and has two negative ends.</li>
<li>A straight piece has both one positive and one negative end.</li>
</ol>
<br></br>
Notice how the positive end fits snugly together with the negative end. The ends of two pieces of track can connect if and only if one end is positive and one end is negative. This makes creating connected tracks very easy. Simply place two pieces of track side by side and make sure the positive and negative ends interlock.
<br></br><br></br>
Currently, some plots of land are empty and others contain pieces of track of various types. Each plot of land can contain at most one piece of track. While forming the new tracks, the king allowed you to rotate the existing pieces of track in increments of 90 degrees. Additionally, you are allowed to add new straight pieces onto empty plots of land. Each of these new pieces can have any of the four possible orientations. You are <i>not</i> allowed to add new pieces of types A and B.
<br></br><br></br>
You are given a vector &lt;string&gt; <b>field</b> that describes a rectangular area of the country, divided into unit square plots of land.
<br></br><br></br>
Each character of each element of <b>field</b> describes one plot of land. The meanings of individual characters follow.
<ul>
<li>The character '.' represents an empty plot of land.</li>
<li>The character 'A' represents a plot occupied by a type A piece.</li>
<li>The character 'B' represents a plot occupied by a type B piece.</li>
<li>The character 'S' represents a plot of land occupied by a straight piece.</li>
<li>If the character is a digit 'x' (where 'x' is from '1' to '9'), it represents a plot of land owned by the lord number x.</li>
</ul>
<br></br>
The king would like to have a non-empty set of closed track segments. More precisely, in the final configuration there must be at least one track piece and each track piece has to be connected to two other track pieces. Note that in the final configuration there may be more than one closed sequence of tracks. Sometimes it may happen that it is impossible to build the tracks without using plots that were assigned to some of the lords. If the king wishes to use one or more plots that were assigned to lord i, he will pay the lord exactly i gold coins. Paying the i coins once allows the king to use all the plots that were assigned to lord i. Adding new straight pieces does not cost anything. The king would like to know the minimum total amount of gold coins he would have to pay to make the train tracks. Return this minimum amount. If it is not possible to build the train tracks, return -1 instead.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>ToyTrain</td></tr><tr><td>Method:</td><td>getMinCost</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int getMinCost(vector &lt;string&gt; field)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>field</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>field</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>field</b> will contain the same number of characters.</td></tr><tr><td align="center" valign="top">-</td><td>Each character of each element of field will be 'A', 'B', 'S', '.' or a digit between '1' and '9', inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;BA&quot;,
 &quot;SS&quot;,
 &quot;AB&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/ToyTrain/grid.png"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;.&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">It is not possible to build any closed train tracks.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;ABBA&quot;,
 &quot;BAAB&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">The King can make two separate tracks for this field.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;AA&quot;,
 &quot;AA&quot;}
</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;..AB&quot;,
 &quot;B..A&quot;,
 &quot;....&quot;,
 &quot;A.B.&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;A1B8A2B&quot;,
 &quot;16A.B22&quot;,
 &quot;BAB.9.A&quot;,
 &quot;ABA.7.B&quot;,
 &quot;B12345A&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 31</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;..A.B&quot;,
 &quot;.1.2.&quot;,
 &quot;A.B..&quot;,
 &quot;.3.4.&quot;,
 &quot;B...A&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">7)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;ASBSBSA&quot;,
 &quot;S.S.S.S&quot;,
 &quot;BSASASB&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
