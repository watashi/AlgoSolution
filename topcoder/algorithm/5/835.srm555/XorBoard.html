<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Fox Jiro has a rectangular grid with <b>H</b> rows and <b>W</b> columns (i.e., the grid has <b>H</b>*<b>W</b> cells in total). Initially, each cell in the grid contained the character '0'.</p>
<br></br>
<p>A row flip is an operation in which Jiro picks a row of the grid, and in that row he changes all '0's to '1's and vice versa.
Similarly, a column flip is an operation in which Jiro does the same to a column of the grid.
Jiro took the grid that contained '0's everywhere.
He performed a row flip <b>Rcount</b> times, and then a column flip <b>Ccount</b> times.
(It is possible that Jiro flipped the same row or column multiple times.)
At the end, Jiro noticed that there are exactly <b>S</b> '1's in the grid.</p>
<br></br>
<p>You are given the ints <b>H</b>, <b>W</b>, <b>Rcount</b>, <b>Ccount</b>, and <b>S</b>.
We are interested in the number of different ways in which Jiro could have flipped the rows and columns of the grid.
Two ways of flipping are considered different if there is a row or a column that was flipped a different number of times.
(That is, the order in which the rows and columns are flipped does not matter.)
Return the number of different ways of flipping that match the given situation, modulo 555,555,555.</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>XorBoard</td></tr><tr><td>Method:</td><td>count</td></tr><tr><td>Parameters:</td><td>int, int, int, int, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int count(int H, int W, int Rcount, int Ccount, int S)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>H</b> will be between 1 and 1,555, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>W</b> will be between 1 and 1,555, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>Rcount</b> will be between 0 and 1,555, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>Ccount</b> will be between 0 and 1,555, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>S</b> will be between 0 and <b>H</b>*<b>W</b>, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>4</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2"><p>In two of the four ways, Jiro flips each row once, and then the same column twice.</p>
<p>In the other two ways he first flips the same row twice, and then each column once.</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">Without any flips, all cells still contain '0's, so <b>S</b>=1 is impossible.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>20</pre></td></tr><tr><td><pre>50</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>200</pre></td></tr></table></td></tr><tr><td><pre>Returns: 333759825</pre></td></tr><tr><td><table><tr><td colspan="2"><b>Rcount</b> and <b>Ccount</b> may be greater than <b>H</b> and <b>W</b>.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1200</pre></td></tr><tr><td><pre>1000</pre></td></tr><tr><td><pre>800</pre></td></tr><tr><td><pre>600</pre></td></tr><tr><td><pre>4000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 96859710</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>555</pre></td></tr><tr><td><pre>555</pre></td></tr><tr><td><pre>555</pre></td></tr><tr><td><pre>555</pre></td></tr><tr><td><pre>5550</pre></td></tr></table></td></tr><tr><td><pre>Returns: 549361755</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
